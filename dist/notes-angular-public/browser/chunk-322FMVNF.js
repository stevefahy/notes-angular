import{C as ke,G as ye,H as Z,I as Me,J as F,K as Ne,L as Oe,M as we,N as Se,P as ee,R as te,S as ne,T as oe,U as ie,V as re,W as ae,X as se,Y as Pe,Z as Ee,_ as le,aa as De,i as Ce,l as Y,m as U,n as ve,q,s as J,t as ce,u as xe,v as W,w as T,x as A}from"./chunk-4KA7YYCZ.js";import{$b as g,Ba as b,Kb as be,Lb as m,Mb as p,Nb as z,Ob as j,Pb as c,Qb as i,Rb as a,Sb as v,Wb as $,Xb as M,Y as P,Zb as _,Zc as f,a as V,ac as H,b as R,bc as K,cd as he,db as r,dc as G,ea as ge,ec as Q,fc as X,j as S,jc as _e,mb as h,n as L,nc as s,ob as B,oc as E,pa as k,pc as N,qa as y,qc as D,rc as I,sb as u,tb as fe,u as ue}from"./chunk-AS4DOYW2.js";var de=A("notification"),Dt=T(de,e=>e);var me=A("snack"),Lt=T(me,e=>e);var Ae=(()=>{class e{constructor(n){this.data=n}static{this.\u0275fac=function(o){return new(o||e)(h(Pe))}}static{this.\u0275cmp=u({type:e,selectors:[["SnackbarView"]],standalone:!1,decls:6,vars:2,consts:[[1,"snack_outer"],[1,"material-symbols-outlined","snack_icon"]],template:function(o,t){o&1&&(i(0,"span",0)(1,"mat-icon")(2,"span",1),s(3),a()(),i(4,"span"),s(5),a()()),o&2&&(r(3),N(" ",t.data==null?null:t.data.icon," "),r(2),E(t.data==null?null:t.data.message))},dependencies:[F],styles:[".snack_outer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.snack_icon[_ngcontent-%COMP%]{color:#160}"]})}}return e})();var Le=(()=>{class e{constructor(){this.errorClass=!1,this.errorClasses=this.errorClass,this.n_status==="error"&&(this.errorClass=!1),this.n_status==="success"&&(this.errorClass=!0)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["NotificationView"]],inputs:{title:"title",message:"message",n_status:"n_status"},standalone:!1,decls:6,vars:4,consts:[[3,"ngClass"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"section",0)(2,"h2"),s(3),a(),i(4,"p"),s(5),a()()()),o&2&&(c("ngClass","notification_outer"),r(),c("ngClass",t.errorClasses?"notification success":"notification error"),r(2),E(t.title),r(2),E(t.message))},dependencies:[f],styles:[".notification[_ngcontent-%COMP%]{width:100%;background-color:#1a8ed1;display:flex;justify-content:center;padding:.5rem 10%;align-items:center;color:#fff;flex-direction:column;white-space:pre-wrap}.notification[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;padding-left:5px;padding-right:5px}.error[_ngcontent-%COMP%]{background-color:#690000}.success[_ngcontent-%COMP%]{background-color:#1ad1b9}.pending[_ngcontent-%COMP%]{background-color:#fddc9f}.notification_outer[_ngcontent-%COMP%]{z-index:50;position:absolute;width:100%;bottom:0;white-space:pre;text-align:center}"]})}}return e})();var Qe=A("edited"),Fe=T(Qe,e=>e),Xe=A("editing"),Bt=T(Xe,e=>e);var Ie=xe({source:"Notebook Edit",events:{Editing:ce(),Edited:ce()}});var Re=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["NotebooksLink"]],standalone:!1,decls:7,vars:5,consts:[["routerLink","/notebooks",3,"ngClass"],[3,"ngClass"]],template:function(o,t){o&1&&(i(0,"a",0)(1,"span",1)(2,"span",1),s(3," library_books "),a(),i(4,"span",1)(5,"span",1),s(6," Notebooks"),a()()()()),o&2&&(c("ngClass","no_link"),r(),c("ngClass","breadcrumb_group"),r(),c("ngClass","material-icons-outlined breadcrumb_icon"),r(2),c("ngClass","breadcrumb_link_btn"),r(),c("ngClass","breadcrumb_link"))},dependencies:[f,U],styles:[".breadcrumb_link[_ngcontent-%COMP%], .breadcrumb_link_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.breadcrumb_link_icon[_ngcontent-%COMP%]{font-size:var(--size-4)!important;display:flex;align-items:center;margin-right:1px}.breadcrumb_link[_ngcontent-%COMP%]   .icon_note[_ngcontent-%COMP%]{transform:rotate(90deg)}.breadcrumb_link[_ngcontent-%COMP%]   .icon_notebook[_ngcontent-%COMP%]{transform:rotate(180deg);transform:scaleY(-1)}.breadcrumb_link_btn[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.breadcrumb_container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(var(--breadcrumb-height) * 1px);display:flex;align-items:center;padding-left:20px;padding-right:20px;background-color:#fff;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f;justify-content:flex-start;z-index:6}.breadcrumbs_inner[_ngcontent-%COMP%]{width:100%;display:flex;color:#0009;align-items:center}.breadcrumb_edit_btn[_ngcontent-%COMP%]{position:absolute;height:100%;top:0;display:flex;align-content:center;align-items:center;right:15px}.breadcrumb_seperator[_ngcontent-%COMP%]{margin-left:2px!important;margin-right:2px!important}.breadcrumb_icon[_ngcontent-%COMP%]{margin-right:4px;text-decoration:none}.breadcrumb_group[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:.00938em;color:#0009}.edit_icon[_ngcontent-%COMP%]{font-size:20px;margin-top:5px}.breadcrumb_edit_fab[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#e0e0e0;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px!important}.breadcrumb_edit_fab[_ngcontent-%COMP%]:hover, .breadcrumb_edit_fab[_ngcontent-%COMP%]:focus{background-color:#f5f5f5;transition:background-color .25s cubic-bezier(.4,0,.2,1) 0ms,box-shadow .25s cubic-bezier(.4,0,.2,1) 0ms,border-color .25s cubic-bezier(.4,0,.2,1) 0ms}"]})}}return e})();var Be=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["NotebooksNolink"]],standalone:!1,decls:5,vars:3,consts:[[3,"ngClass"]],template:function(o,t){o&1&&(i(0,"span",0)(1,"span",0),s(2," library_books "),a(),i(3,"span",0),s(4," Notebooks "),a()()),o&2&&(c("ngClass","breadcrumb_group"),r(),c("ngClass","material-icons-outlined breadcrumb_icon"),r(2),c("ngClass","breadcrumb_link"))},dependencies:[f],styles:[".breadcrumb_link[_ngcontent-%COMP%], .breadcrumb_link_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.breadcrumb_link_icon[_ngcontent-%COMP%]{font-size:var(--size-4)!important;display:flex;align-items:center;margin-right:1px}.breadcrumb_link[_ngcontent-%COMP%]   .icon_note[_ngcontent-%COMP%]{transform:rotate(90deg)}.breadcrumb_link[_ngcontent-%COMP%]   .icon_notebook[_ngcontent-%COMP%]{transform:rotate(180deg);transform:scaleY(-1)}.breadcrumb_link_btn[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.breadcrumb_container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(var(--breadcrumb-height) * 1px);display:flex;align-items:center;padding-left:20px;padding-right:20px;background-color:#fff;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f;justify-content:flex-start;z-index:6}.breadcrumbs_inner[_ngcontent-%COMP%]{width:100%;display:flex;color:#0009;align-items:center}.breadcrumb_edit_btn[_ngcontent-%COMP%]{position:absolute;height:100%;top:0;display:flex;align-content:center;align-items:center;right:15px}.breadcrumb_seperator[_ngcontent-%COMP%]{margin-left:2px!important;margin-right:2px!important}.breadcrumb_icon[_ngcontent-%COMP%]{margin-right:4px;text-decoration:none}.breadcrumb_group[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:.00938em;color:#0009}.edit_icon[_ngcontent-%COMP%]{font-size:20px;margin-top:5px}.breadcrumb_edit_fab[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#e0e0e0;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px!important}.breadcrumb_edit_fab[_ngcontent-%COMP%]:hover, .breadcrumb_edit_fab[_ngcontent-%COMP%]:focus{background-color:#f5f5f5;transition:background-color .25s cubic-bezier(.4,0,.2,1) 0ms,box-shadow .25s cubic-bezier(.4,0,.2,1) 0ms,border-color .25s cubic-bezier(.4,0,.2,1) 0ms}"]})}}return e})();function Je(e,d){e&1&&(i(0,"div"),v(1,"NotebooksLink"),a())}function We(e,d){e&1&&(i(0,"div")(1,"span",2)(2,"span",2)(3,"span",2),s(4,"/"),a()(),i(5,"mat-icon",3),s(6,"account_circle"),a(),s(7," Profile "),a()()),e&2&&(r(),c("ngClass","breadcrumb_link"),r(),c("ngClass","breadcrumb_link_icon"),r(),c("ngClass","breadcrumb_seperator"))}function Ze(e,d){e&1&&(i(0,"div"),v(1,"NotebooksLink"),a())}function et(e,d){e&1&&(i(0,"div"),v(1,"NotebooksNolink"),a())}function tt(e,d){if(e&1&&(i(0,"div")(1,"a",4)(2,"span",2)(3,"span",2)(4,"span",2),s(5,"/"),a()(),i(6,"span",5),s(7," description "),a(),i(8,"span",2),s(9),a()()()()),e&2){let n=g(2);r(),c("routerLink",I("notebook/",n.notebook().id)),r(),c("ngClass","breadcrumb_link"),r(),c("ngClass","breadcrumb_link_icon"),r(),c("ngClass","breadcrumb_seperator"),r(2),c("ngClass",I("icon_notebook breadcrumb_icon notebook_cover_",n.notebook().cover," ")),r(2),c("ngClass","breadcrumb_link_btn"),r(),N(" ",n.notebook().name," ")}}function nt(e,d){e&1&&(i(0,"div"),v(1,"NotebooksLink"),a())}function ot(e,d){if(e&1&&(i(0,"div")(1,"a",4)(2,"span",2)(3,"span",2)(4,"span",2),s(5,"/"),a()(),i(6,"span",5),s(7," description "),a(),i(8,"span",2),s(9),a()()()()),e&2){let n=g(2);r(),c("routerLink",I("notebook/",n.notebook().id)),r(),c("ngClass","breadcrumb_link"),r(),c("ngClass","breadcrumb_link_icon"),r(),c("ngClass","breadcrumb_seperator"),r(2),c("ngClass",I("icon_notebook breadcrumb_icon notebook_cover_",n.notebook().cover," ")),r(2),c("ngClass","breadcrumb_link_btn"),r(),N(" ",n.notebook().name," ")}}function it(e,d){e&1&&(i(0,"div")(1,"span",2)(2,"span",2)(3,"span",2),s(4,"/"),a()(),i(5,"span",6),s(6," note "),a(),s(7," Note "),a()()),e&2&&(r(),c("ngClass","breadcrumb_link"),r(),c("ngClass","breadcrumb_link_icon"),r(),c("ngClass","breadcrumb_seperator"))}function rt(e,d){if(e&1){let n=M();i(0,"div")(1,"div",2)(2,"button",7),_("click",function(){k(n);let t=g(2);return y(t.editNotebook())}),i(3,"span",8),s(4," edit "),a()()()()}e&2&&(r(),c("ngClass","breadcrumb_edit_btn"))}function at(e,d){if(e&1&&(i(0,"div")(1,"div")(2,"div",0)(3,"div",1),m(4,Je,2,0,"div"),m(5,We,8,3,"div"),m(6,Ze,2,0,"div"),m(7,et,2,0,"div"),m(8,tt,10,9,"div"),m(9,nt,2,0,"div"),m(10,ot,10,9,"div"),m(11,it,8,3,"div"),m(12,rt,5,1,"div"),a()()()()),e&2){let n=g();r(2),c("ngClass","breadcrumb_container"),r(2),p(n.notebookLoaded()&&n.pageLayout()==="profile"?4:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="profile"?5:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="notebook"?6:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="notebooks"?7:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="notebook"&&n.notebook()&&n.notebook().name?8:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="note"?9:-1),r(),p(n.notebookLoaded()&&n.notebook().name&&n.pageLayout()==="note"?10:-1),r(),p(n.notebookLoaded()&&n.notebook().name&&n.pageLayout()==="note"?11:-1),r(),p(n.notebookLoaded()&&n.pageLayout()==="notebook"?12:-1)}}var ze=(()=>{class e{constructor(n,o){this.router=n,this.store=o,this.pageLayout=b("other"),this.notebook=b({name:"",cover:"default",id:""}),this.notebookLoaded=b(!1),this.edited$=this.store.select(Fe).subscribe(t=>{t.notebook_name!==null&&t._id!==null&&t&&t.notebook_cover&&(this.notebook.set({id:t._id,name:t.notebook_name,cover:t.notebook_cover}),this.notebookLoaded.set(!0))}),this.resetNotebook=()=>{this.notebook.set({id:"",name:"",cover:"default"})},this.setPageLayout=t=>{t==="notebooks"?(this.pageLayout.update(()=>"notebooks"),this.resetNotebook()):t==="notebook/:notebookId"?this.pageLayout.update(()=>"notebook"):t==="notebook/:notebookId/:noteId"?this.pageLayout.update(()=>"note"):t==="profile"?this.pageLayout.update(()=>"profile"):this.pageLayout.update(()=>"other")},this.editNotebook=()=>{this.store.dispatch(Ie.editing({status:!0}))},this.router.events.subscribe(t=>{t instanceof Ce&&t.state.root.firstChild?.routeConfig?.path&&this.setPageLayout(t.state.root.firstChild.routeConfig.path)})}ngOnDestroy(){this.edited$.unsubscribe()}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||e)(h(Y),h(W))}}static{this.\u0275cmp=u({type:e,selectors:[["Breadcrumb"]],standalone:!1,decls:1,vars:1,consts:[["role","presentation",3,"ngClass"],["ngClass","breadcrumbs_inner"],[3,"ngClass"],["ngClass","breadcrumb_icon"],[3,"routerLink"],[1,"material-icons-outlined",3,"ngClass"],["ngClass","note icon_note breadcrumb_icon ",1,"material-icons-outlined"],["mat-mini-fab","","aria-label","Edit notebook button","ngClass","breadcrumb_edit_fab",3,"click"],["ngClass","material-symbols-outlined edit_icon"]],template:function(o,t){o&1&&m(0,at,13,10,"div"),o&2&&p(t.pageLayout()!=="other"?0:-1)},dependencies:[f,Me,F,U,Re,Be],styles:[".breadcrumb_link[_ngcontent-%COMP%], .breadcrumb_link_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.breadcrumb_link_icon[_ngcontent-%COMP%]{font-size:var(--size-4)!important;display:flex;align-items:center;margin-right:1px}.breadcrumb_link[_ngcontent-%COMP%]   .icon_note[_ngcontent-%COMP%]{transform:rotate(90deg)}.breadcrumb_link[_ngcontent-%COMP%]   .icon_notebook[_ngcontent-%COMP%]{transform:rotate(180deg);transform:scaleY(-1)}.breadcrumb_link_btn[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.breadcrumb_container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(var(--breadcrumb-height) * 1px);display:flex;align-items:center;padding-left:20px;padding-right:20px;background-color:#fff;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f;justify-content:flex-start;z-index:6}.breadcrumbs_inner[_ngcontent-%COMP%]{width:100%;display:flex;color:#0009;align-items:center}.breadcrumb_edit_btn[_ngcontent-%COMP%]{position:absolute;height:100%;top:0;display:flex;align-content:center;align-items:center;right:15px}.breadcrumb_seperator[_ngcontent-%COMP%]{margin-left:2px!important;margin-right:2px!important}.breadcrumb_icon[_ngcontent-%COMP%]{margin-right:4px;text-decoration:none}.breadcrumb_group[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:.00938em;color:#0009}.edit_icon[_ngcontent-%COMP%]{font-size:20px;margin-top:5px}.breadcrumb_edit_fab[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#e0e0e0;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px!important}.breadcrumb_edit_fab[_ngcontent-%COMP%]:hover, .breadcrumb_edit_fab[_ngcontent-%COMP%]:focus{background-color:#f5f5f5;transition:background-color .25s cubic-bezier(.4,0,.2,1) 0ms,box-shadow .25s cubic-bezier(.4,0,.2,1) 0ms,border-color .25s cubic-bezier(.4,0,.2,1) 0ms}"]})}}return e})();function ct(e,d){if(e&1){let n=M();i(0,"div")(1,"button",4),_("click",function(t){k(n);let l=g();return y(l.handleProfile(t))}),i(2,"mat-icon"),s(3,"account_circle"),a(),i(4,"span"),s(5),a()()()}if(e&2){let n=g();r(5),E(n.details.username)}}function lt(e,d){if(e&1){let n=M();i(0,"div")(1,"button",4),_("click",function(t){k(n);let l=g();return y(l.handleProfile(t))}),i(2,"mat-icon"),s(3,"settings"),a(),i(4,"span"),s(5,"Settings"),a()()()}}function dt(e,d){if(e&1){let n=M();i(0,"div")(1,"button",4),_("click",function(t){k(n);let l=g();return y(l.loginHandler(t))}),i(2,"mat-icon"),s(3,"login"),a(),i(4,"span"),s(5,"Login"),a()()()}}function mt(e,d){if(e&1){let n=M();i(0,"div")(1,"button",4),_("click",function(){k(n);let t=g();return y(t.onLogout())}),i(2,"mat-icon"),s(3,"logout"),a(),i(4,"span"),s(5,"Logout"),a()()()}}var pt=q,je=(()=>{class e{constructor(n,o){this.authService=n,this.router=o,this.onDestroy$=new L,this.updateContext=t=>{this.loading=t.loading,this.success=t.success,this.details=t.details,this.onLogout=t.onLogout},this.handleProfile=t=>S(this,null,function*(){t.preventDefault(),this.router.navigate(["/profile"])}),this.loginHandler=t=>S(this,null,function*(){t.preventDefault(),this.router.navigate([`${pt.LOGIN_PAGE}`])})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}ngOnInit(){this.authService.authContext$.pipe(P(this.onDestroy$)).subscribe(n=>{this.updateContext(n)})}static{this.\u0275fac=function(o){return new(o||e)(h(ke),h(Y))}}static{this.\u0275cmp=u({type:e,selectors:[["MenuDropdown"]],standalone:!1,decls:10,vars:5,consts:[["menu","matMenu"],["ngClass","nav_menu"],["mat-icon-button","","aria-label","icon-button with a menu",3,"matMenuTriggerFor"],["ngClass","icon"],["mat-menu-item","",3,"click"]],template:function(o,t){if(o&1&&(i(0,"div",1)(1,"button",2)(2,"mat-icon",3),s(3,"more_vert"),a()(),i(4,"mat-menu",null,0),m(6,ct,6,1,"div"),m(7,lt,6,0,"div"),m(8,dt,6,0,"div"),m(9,mt,6,0,"div"),a()()),o&2){let l=_e(5);r(),c("matMenuTriggerFor",l),r(5),p(t.success&&t.details?6:-1),r(),p(t.success?7:-1),r(),p(t.success?-1:8),r(),p(t.success?9:-1)}},dependencies:[f,ye,F,Oe,Ne,we],styles:[".icon[_ngcontent-%COMP%]{color:#fff}.nav_menu[_ngcontent-%COMP%]{padding-right:16px}"]})}}return e})();var $e=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["MainNavigation"]],standalone:!1,decls:10,vars:6,consts:[["id","header_height",3,"ngClass"],[3,"ngClass"],["src","../../../../assets/images/edit_white.png","alt","Notes logo","width","20","height","20"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",1)(3,"div",1),v(4,"img",2),a(),i(5,"div",1),s(6,"NOTES"),a()(),i(7,"div",1),v(8,"MenuDropdown"),a()()(),v(9,"Breadcrumb")),o&2&&(c("ngClass","header"),r(),c("ngClass","header_container"),r(),c("ngClass","logo_container"),r(),c("ngClass","header_title_logo"),r(2),c("ngClass","header_title"),r(2),c("ngClass","header_toolbar"))},dependencies:[f,ze,je],styles:[".header[_ngcontent-%COMP%]{z-index:2;background-color:#4d0000}.header_container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;min-height:64px}.logo_container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.header_toolbar[_ngcontent-%COMP%]{margin-left:auto}.header_title[_ngcontent-%COMP%]{color:#fff;font-family:monospace;font-weight:700;letter-spacing:0rem;font-size:2.4rem;padding:0;margin:0}.header_title_logo[_ngcontent-%COMP%]{margin-right:5px;width:20px;height:20px}"]})}}return e})();var ft=["*"];function bt(e,d){if(e&1&&(i(0,"div"),v(1,"NotificationView",0),a()),e&2){let n=g();r(),c("n_status",D(n.notification().n_status))("title",D(n.notification().title))("message",D(n.notification().message))}}var He=()=>{let e=window&&window.innerHeight,d=document&&document.getElementById("header_height")?.getBoundingClientRect().height;document&&document.documentElement.style.setProperty("--jsvh",`${e}px`),document&&document.documentElement.style.setProperty("--jsheader-height",`${d}`)},an=(()=>{class e{constructor(n,o){this.store=n,this._snackBar=o,this.status=b(null),this.notification=b({}),this.snackbar=b(null),this.notification$=this.store.select(de).subscribe(t=>{this.status.set(t.n_status),this.status()!==null&&(this.notification.set(t),this.timer_notification=setTimeout(()=>{this.status.set(null),clearTimeout(this.timer_notification)},5e3))}),this.snack$=this.store.select(me).subscribe(t=>{this.snackbar.set(t),t.n_status!==null&&t.message!==null&&this._snackBar.openFromComponent(Ae,{duration:2e3,panelClass:["snackbar"],data:{message:t.message,icon:"check_circle"}})})}ngOnDestroy(){this.notification$.unsubscribe(),this.snack$.unsubscribe()}ngOnInit(){setTimeout(()=>{He()},0),window&&window.addEventListener("resize",()=>{He()})}static{this.\u0275fac=function(o){return new(o||e)(h(W),h(Ee))}}static{this.\u0275cmp=u({type:e,selectors:[["Layout"]],standalone:!1,ngContentSelectors:ft,decls:4,vars:1,consts:[[3,"n_status","title","message"]],template:function(o,t){o&1&&(H(),v(0,"MainNavigation"),i(1,"main"),K(2),a(),m(3,bt,2,6,"div")),o&2&&(r(3),p(t.status()?3:-1))},dependencies:[Le,$e],encapsulation:2})}}return e})();var ln=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["LoadingScreen"]],standalone:!1,decls:3,vars:0,consts:[["ngClass","loading_outer"],["ngClass","loading_inner"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1),v(2,"mat-spinner"),a()())},dependencies:[f,Se],styles:[".loading_outer[_ngcontent-%COMP%]{z-index:5;position:absolute;width:100%;height:100%}.loading_inner[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:100%;flex-direction:row;position:relative;align-items:center;background-color:#fff}"]})}}return e})();var _t=["*"],mn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=u({type:e,selectors:[["Footer"]],standalone:!1,ngContentSelectors:_t,decls:3,vars:0,consts:[["ngClass","page_footer"],["ngClass","page_footer_container"]],template:function(o,t){o&1&&(H(),i(0,"div",0)(1,"div",1),K(2),a()())},dependencies:[f],styles:[".page_footer[_ngcontent-%COMP%]{z-index:1;width:100%;position:fixed;height:calc(var(--footer-height) * 1px);display:flex;align-items:flex-start;flex-direction:column;justify-content:center;bottom:0;box-shadow:#32325d40 0 -2px 12px -2px,#0000004d 0 -1px 7px -3px;background-color:#fff;z-index:6}.page_footer_container[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.page_footer_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:auto}"]})}}return e})();var Ke=[{value:"default",viewValue:"Default"},{value:"red",viewValue:"Red"},{value:"green",viewValue:"Green"},{value:"blue",viewValue:"Blue"}];var vt=["errorcontainer"];function xt(e,d){if(e&1&&(i(0,"option",10),s(1),a()),e&2){let n=d.$implicit,o=g();c("value",n.value)("selected",n.value===o.notebookCover),r(),N(" ",n.viewValue," ")}}function kt(e,d){if(e&1){let n=M();i(0,"div")(1,"button",16),_("click",function(t){k(n);let l=g();return y(l.submitHandler(t))}),s(2," Add "),a()()}if(e&2){let n=g();r(),c("disabled",D(n.checkForm()))}}function yt(e,d){if(e&1){let n=M();i(0,"div")(1,"button",17),_("click",function(t){k(n);let l=g();return y(l.submitHandler(t))}),i(2,"span",14),s(3," Confirm "),a()()()}if(e&2){let n=g();r(),c("disabled",D(n.checkForm()))}}function Mt(e,d){e&1&&$(0,null,0)}var w=q,yn=(()=>{class e{constructor(n){this.data=n,this.error=b({error_state:!1,message:""}),this.error$=J(this.error),this.selectedCover=b("default"),this.selectedName=b(""),this.formChanged=b(!1),this.notebookName="",this.notebookCover="default",this.originalName="",this.originalCover="default",this.folderOptions=Ke,this.onDestroy$=new L,this.trackfolderOptions=(o,t)=>t?t.value:void 0,this.checkForm=()=>!this.formChanged(),this.nameChangeHandler=o=>{if(this.resetError(),this.selectedName.update(t=>o),o!==this.originalName||this.selectedCover()!==this.originalCover){if(!this.selectedName()||this.selectedName().length<w.NOTEBOOK_NAME_MIN){this.formChanged.update(t=>!1);return}else this.formChanged.update(t=>!0);if(this.selectedName().length>w.NOTEBOOK_NAME_MAX){this.formChanged.update(t=>!1),this.error.set({error_state:!0,message:`${w.NOTEBOOK_NAME_MAX_ERROR}`});return}}else this.formChanged.update(t=>!1)},this.resetError=()=>{this.componentRef&&this.componentRef.destroy(),this.error.update(o=>R(V({},o),{error_state:!1,error_severity:"",message:""}))},this.coverChangeHandler=o=>{this.selectedCover.update(t=>o),this.selectedName()!==this.originalName||this.selectedName()!==""&&o!==this.originalCover?this.formChanged.update(t=>!0):this.formChanged.update(t=>!1)},this.cancelHandler=o=>{o.preventDefault(),o.stopPropagation(),this.error.set({error_state:!1,message:""}),this.onCancel()},this.submitHandler=o=>S(this,null,function*(){if(o.preventDefault(),o.stopPropagation(),this.error.set({error_state:!1,message:""}),!this.selectedName()||this.selectedName().length<w.NOTEBOOK_NAME_MIN){this.error.set({error_state:!0,message:`${w.NOTEBOOK_NAME_MIN_ERROR}`});return}if(this.selectedName().length>w.NOTEBOOK_NAME_MAX){this.error.set({error_state:!0,message:`${w.NOTEBOOK_NAME_MAX_ERROR}`});return}if(!this.selectedCover()||this.selectedCover().length===0){this.error.set({error_state:!0,message:w.NOTEBOOK_COVER_EMPTY});return}let t=this.selectedName();if(this.method==="edit"&&this.notebook&&this.editNotebook){let l=this.notebook._id,C=new Date().toISOString();this.notebook.updatedAt&&(C=this.notebook.updatedAt),this.editNotebook(l,t,this.selectedCover(),C),this.onCancel()}else this.method==="create"&&this.addNotebook&&(this.addNotebook(t,this.selectedCover()),this.onCancel())})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}ngOnInit(){this.notebook=this.data.notebook,this.method=this.data.method,this.addNotebook=this.data.addNotebook,this.onCancel=this.data.onCancel,this.editNotebook=this.data.editNotebook,this.method==="edit"&&this.notebook?(this.originalName=this.notebookName=this.notebook.notebook_name,this.originalCover=this.notebookCover=this.notebook.notebook_cover):(this.originalName=this.notebookName,this.originalCover=this.notebookCover),this.selectedCover.update(n=>this.originalCover),this.selectedName.update(n=>this.originalName),this.error$.pipe(P(this.onDestroy$)).subscribe(n=>{n.error_state&&this.addErrorComponent()})}addErrorComponent(){import("./chunk-IFURLEYA.js").then(n=>{let o=n.LazyLoadedModule.components.dynamicComponent;this.componentRef=this.errorcontainer.createComponent(o),this.componentRef.instance.error_state=this.error().error_state,this.componentRef.instance.error_severity=this.error().error_severity,this.componentRef.instance.message=this.error().message})}getValue(n){return n.target.value}getValueAsNotebookCoverType(n){return n.target.value}static{this.\u0275fac=function(o){return new(o||e)(h(ee))}}static{this.\u0275cmp=u({type:e,selectors:[["AddNotebookForm"]],viewQuery:function(o,t){if(o&1&&G(vt,5,B),o&2){let l;Q(l=X())&&(t.errorcontainer=l.first)}},standalone:!1,decls:26,vars:5,consts:[["errorcontainer",""],["ngClass","dialogue_container"],["mat-dialog-title","","ngClass","dialogue-title"],["mat-dialog-content",""],["ngClass","form"],["ngClass","control"],["htmlFor","new-notebook"],["type","text","id","new-notebook",3,"input","defaultValue"],["htmlFor","new-notebook-cover"],["name","cars","ngClass","select_dialogue","id","new-notebook-cover",3,"change"],[3,"value","selected"],["ngClass","button_row"],["ngClass","checkForm() ? action_disabled : action"],["mat-button","","color","secondary","aria-label","Edit notebook button","ngClass","contained medium",3,"click"],["ngClass","icon_text"],["ngClass","material-symbols-outlined button_icon white"],["mat-button","","color","secondary","aria-label","Add notebook button","ngClass","contained medium",3,"click","disabled"],["mat-button","","color","secondary","aria-label","Edit notebook button","ngClass","contained medium",3,"click","disabled"]],template:function(o,t){o&1&&(i(0,"div",1)(1,"h2",2),s(2),a(),i(3,"div",3)(4,"form",4)(5,"div",5)(6,"label",6),s(7,"Name"),a(),i(8,"input",7),_("input",function(C){return t.nameChangeHandler(t.getValue(C))}),a()(),i(9,"div",5)(10,"label",8),s(11,"Cover"),a(),i(12,"select",9),_("change",function(C){return t.coverChangeHandler(t.getValueAsNotebookCoverType(C))}),z(13,xt,2,3,"option",10,t.trackfolderOptions,!0),a()()(),i(15,"div",11)(16,"div",12),m(17,kt,3,2,"div"),m(18,yt,4,2,"div"),a(),i(19,"div")(20,"button",13),_("click",function(C){return t.cancelHandler(C)}),i(21,"span",14)(22,"span",15),s(23," cancel "),a(),s(24," Cancel "),a()()()(),m(25,Mt,2,0,"ng-container"),a()()),o&2&&(r(2),N(" ",t.method==="edit"?"Edit Notebook":"Add Notebook"," "),r(6),c("defaultValue",t.notebookName),r(5),j(t.folderOptions),r(4),p(t.method==="create"?17:-1),r(),p(t.method==="edit"?18:-1),r(7),p(t.error().error_state?25:-1))},dependencies:[f,Z,te,ne,re,ae,se,oe,ie],styles:[".button_row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]{width:100%;margin:1rem auto}.control[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;flex-direction:row;align-items:flex-start;justify-content:space-between;gap:20px}.control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;color:#353336;display:block}.control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;font:inherit;max-width:100%;width:100%;border-radius:4px;border:1px solid #38015c;padding:.25rem;background-color:#f7f0fa}.action[_ngcontent-%COMP%], .action_disabled[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.select_dialogue[_ngcontent-%COMP%]{width:100%}.dialogue_container[_ngcontent-%COMP%]{max-width:300px}@media only screen and (max-width:380px){.control[_ngcontent-%COMP%]{gap:5px}.control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.7rem!important;padding-top:unset;padding-bottom:unset}}"]})}}return e})();var Nt=["errorcontainer"];function Ot(e,d){if(e&1&&(i(0,"option",17),s(1),a()),e&2){let n=g().$implicit;c("value",n._id),r(),N(" ",n.notebook_name," ")}}function wt(e,d){if(e&1&&m(0,Ot,2,2,"option",17),e&2){let n=d.$implicit,o=g(2);p(n._id!==o.notebookId?0:-1)}}function St(e,d){if(e&1&&z(0,wt,1,1,null,null,be().trackByNotebooks,!0),e&2){let n=g();j(n.notebooksSorted())}}function Pt(e,d){e&1&&$(0,null,0)}var Ln=(()=>{class e{constructor(n){this.data=n,this.selectedNotebook=b(""),this.formIsValid=b(!1),this.notebooksSorted=b(null),this.error=b({error_state:!1,error_severity:"",message:""}),this.error$=J(this.error),this.onDestroy$=new L,this.trackByNotebooks=(o,t)=>t?t._id:void 0,this.findNotebook=o=>{let t=this.notebooks.findIndex(l=>l._id===o);return this.notebooks[t]},this.sortNotes=o=>(o.forEach(t=>{t.updatedAt==="No date"&&(t.updatedAt="December 17, 1995 03:24:00"),t.createdAt==="No date"&&(t.createdAt="December 17, 1995 03:24:00")}),o.sort((t,l)=>t.updatedAt!==void 0&&l.updatedAt!==void 0?new Date(t.updatedAt)>new Date(l.updatedAt)?1:-1:t.updatedAt!==void 0?1:-1).reverse(),o),this.cancelHandler=o=>{o.preventDefault(),o.stopPropagation(),this.error().error_state&&this.resetError(),this.onCancel()},this.submitHandler=o=>S(this,null,function*(){if(o.preventDefault(),o.stopPropagation(),this.error().error_state&&this.resetError(),this.findNotebook(this.selectedNotebook()),!this.selectedNotebook()){this.formIsValid.set(!1);return}this.moveNotes(this.selectedNotebook()),this.onCancel()}),this.resetError=()=>{this.componentRef&&this.componentRef.destroy(),this.formIsValid.set(!0),this.error.update(o=>R(V({},o),{error_state:!1,error_severity:"",message:""}))},this.handleChange=o=>{this.selectedNotebook.update(t=>o.target.value),o.target.value==="default"?this.formIsValid.set(!1):this.formIsValid.set(!0)}}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}ngOnInit(){this.onCancel=this.data.onCancel,this.moveNotes=this.data.moveNotes,this.notebooks=this.data.notebooks,this.notebookId=this.data.notebookId,this.notebooks$=ue(this.notebooks),this.notebooks$.pipe(P(this.onDestroy$)).subscribe(n=>{if(n){let o=this.sortNotes(n);this.notebooksSorted.set(o)}}),this.error$.pipe(P(this.onDestroy$)).subscribe(n=>{n.error_state&&this.addErrorComponent()})}addErrorComponent(){import("./chunk-IFURLEYA.js").then(n=>{let o=n.LazyLoadedModule.components.dynamicComponent;this.componentRef=this.errorcontainer.createComponent(o),this.componentRef.instance.error_state=this.error().error_state,this.componentRef.instance.error_severity=this.error().error_severity,this.componentRef.instance.message=this.error().message})}static{this.\u0275fac=function(o){return new(o||e)(h(ee))}}static{this.\u0275cmp=u({type:e,selectors:[["SelectNotebookForm"]],viewQuery:function(o,t){if(o&1&&G(Nt,5,B),o&2){let l;Q(l=X())&&(t.errorcontainer=l.first)}},inputs:{notebooks:"notebooks",onCancel:"onCancel",moveNotes:"moveNotes"},standalone:!1,decls:25,vars:3,consts:[["errorcontainer",""],["ngClass","dialogue_container"],["mat-dialog-title","","ngClass","dialogue-title"],["mat-dialog-content",""],["ngClass","form"],["ngClass","control"],["htmlFor","new-notebook-cover"],["name","notebooks","id","notebooks","value","selectedNotebook",3,"change"],["defaultValue","true","value","default"],["ngClass","button_row"],["ngClass","action"],["ngClass","move"],["mat-button","","color","secondary","aria-label","Move Note button","ngClass","contained medium",3,"click","disabled"],["ngClass","icon_text"],["ngClass","cancel"],["mat-button","","color","secondary","aria-label","Edit notebook button","ngClass","contained medium",3,"click"],["ngClass","material-symbols-outlined button_icon white"],[3,"value"]],template:function(o,t){o&1&&(i(0,"div",1)(1,"h2",2),s(2,"Move to Notebook"),a(),i(3,"div",3)(4,"form",4)(5,"div",5)(6,"label",6),s(7,"Name"),a(),i(8,"select",7),_("change",function(C){return t.handleChange(C)}),i(9,"option",8),s(10," Select a notebook... "),a(),m(11,St,2,0),a()()(),i(12,"div",9)(13,"div",10)(14,"div",11)(15,"button",12),_("click",function(C){return t.submitHandler(C)}),i(16,"span",13),s(17," Move Note "),a()()(),i(18,"div",14)(19,"button",15),_("click",function(C){return t.cancelHandler(C)}),i(20,"span",13)(21,"span",16),s(22," cancel "),a(),s(23," Cancel "),a()()()()(),m(24,Pt,2,0,"ng-container"),a()()),o&2&&(r(11),p(t.notebooks&&t.notebooksSorted()?11:-1),r(4),c("disabled",!t.formIsValid()),r(9),p(t.error().error_state?24:-1))},dependencies:[f,Z,te,ne,re,ae,se,oe,ie],styles:[".button_row[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{width:100%;margin:1rem auto}.control[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;flex-direction:row;align-items:flex-start;justify-content:space-between;gap:5px}.control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;color:#353336;display:block}.control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;font:inherit;max-width:100%;width:200px;border-radius:4px;border:1px solid #38015c;padding:.25rem;background-color:#f7f0fa}.action[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.dialogue_container[_ngcontent-%COMP%]{max-width:300px}@media only screen and (max-width:380px){.control[_ngcontent-%COMP%]{gap:5px}.control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.7rem!important;padding-top:unset;padding-bottom:unset}}"]})}}return e})();var po=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=fe({type:e})}static{this.\u0275inj=ge({imports:[he,le,ve,le,De]})}}return e})();export{ln as a,Bt as b,Ie as c,an as d,mn as e,yn as f,Ln as g,po as h};
